<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>My Bookings | IMAGINE</title>

  <!-- âœ… Navbar & Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ§Øª -->
  <link rel="stylesheet" href="../shared/navbar.css" />
  <link rel="stylesheet" href="../shared/ui.css" />
  <link rel="stylesheet" href="../user/user-dashboard.css" />

  <!-- âœ… Font Awesome -->
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

  <!-- âœ… Ø§Ù„Ø®Ø· -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">

  <style>
    /* âœ… ØªØ­Ø³ÙŠÙ† Ù„ÙˆÙ† Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªÙˆØ§ØµÙ„ */
    .contact-box a {
      color: #000;
      text-decoration: none;
      font-weight: 400;
    }
    .contact-box a:hover {
      text-decoration: underline;
      color: #111;
    }

    /* âœ… ØªÙ…ÙŠÙŠØ² Ø§Ù„Ø²Ø± Ø§Ù„Ù†Ø´Ø· ÙÙŠ Sidebar */
    .user-sidebar ul a.active {
      font-weight: 600;
      color: #fff;
      background: #556b2f;
      padding: 8px 14px;
      border-radius: 10px;
      display: inline-block;
    }

    .user-sidebar ul a.active:hover {
      background: #445724;
    }
  </style>
</head>

<body>
  <!-- ğŸ•Œ Navbar -->
  <header class="navbar">
    <div id="navbar"></div>
  </header>
  <script src="../shared/navbar.js"></script>

  <!-- âœ… Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØµÙØ­Ø© -->
  <div class="user-dashboard">
    <!-- ğŸ´ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© -->
    <aside class="user-sidebar">
  <img id="avatarSmall" src="../assets/images/default.png" alt="avatar" style="width:100%;height:200px;object-fit:cover;display:block;border-radius:0" />
  
  <div class="sidebar-content">
    <div class="username" id="sbName">â€”</div>
    <div class="useremail" id="sbEmail">â€”</div>

    <ul class="navlist mt-3">
      <li><a href="./profile.html">Profile</a></li>
      <li><a class="active" href="./my-bookings.html">My Bookings</a></li>
    </ul>
  </div>
</aside>

    <!-- ğŸ“‹ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
    <main class="user-main">
      <div class="header-actions">
        <h1 class="h1 mb-3">My Bookings</h1>
        <p class="sub mb-6">Track and manage your tour bookings easily.</p>
      </div>

      <div id="tableWrapper" class="table-wrapper">
        <table class="table">
          <thead>
            <tr>
              <th>Guide</th>
              <th>Place</th>
              <th>Date</th>
              <th>Status</th>
              <th width="180">Action</th>
            </tr>
          </thead>
          <tbody id="bookingsList"></tbody>
        </table>
      </div>

      <div id="emptyState" class="empty-state" hidden>
        <p>No bookings yet.</p>
        <a class="btn btn-primary" href="../guides/guides.html">Find a guide</a>
      </div>
    </main>
  </div>

<!-- âœ… Review Modal -->
<div id="reviewModal" class="modal">
  <div class="modal-box">
    <h3 class="modal-title">Rate Your Guide</h3>
    <p class="modal-sub">Share your experience with your guide.</p>

    <!-- â­ ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù†Ø¬ÙˆÙ… -->
    <div class="stars" id="starsContainer">
      <i class="fa-regular fa-star" data-value="1"></i>
      <i class="fa-regular fa-star" data-value="2"></i>
      <i class="fa-regular fa-star" data-value="3"></i>
      <i class="fa-regular fa-star" data-value="4"></i>
      <i class="fa-regular fa-star" data-value="5"></i>
    </div>

    <!-- ğŸ’¬ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚ -->
    <textarea id="comment" class="textarea" placeholder="Write your comment here..."></textarea>

    <!-- ğŸ”˜ Ø§Ù„Ø£Ø²Ø±Ø§Ø± -->
    <div class="actions">
      <button id="saveReviewBtn" class="btn btn-primary">Submit Review</button>
      <button type="button" onclick="closeModal()" class="btn btn-secondary">Cancel</button>
    </div>
  </div>
</div>



  <!-- âœ… Scripts -->
  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
  <script src="../supabase/supabaseClient.js"></script>
  <script src="./my-bookings.js"></script>
  <script src="../shared/ui.js"></script>
</body>
</html>
