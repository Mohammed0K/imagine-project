<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>IMAGINE | Places</title>

    <!-- âœ… Tailwind (Dev only notice is fine) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- âœ… Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

    <!-- âœ… Navbar loader (once, with defer) -->
    <script defer src="../shared/navbar.js"></script>

    <!-- âœ… Page styles -->
    <link rel="stylesheet" href="places.css" />
    <link rel="stylesheet" href="../shared/ui.css" />
  </head>

  <body class="bg-[#fffaf3] text-gray-800">
    <!-- ðŸ•Œ Navbar mount point -->
    <div id="navbar"></div>

    <!-- ðŸœï¸ Hero Section (ÙƒÙ…Ø§ Ù‡Ùˆ) -->
    <section class="places-hero">
      <img src="../places/assets/kafd.jpeg" alt="Saudi Arabia" class="hero-bg" />
      <div class="overlay"></div>
      <div class="hero-content">
        <h1>Every City a New Chapter<br><span>Timeless Beauty</span></h1>
        <p>Travel beyond the ordinary and find the extraordinary within the Kingdom</p>
      </div>
    </section>

    <!-- ðŸ“ Places Section -->
    <section class="places py-12 px-6">
      <h2 class="text-3xl font-bold text-center text-[#556b2f]">Top Destinations</h2>
      <p class="subtitle text-center text-gray-600 mb-8">Explore the hidden gems of Saudi Arabia</p>

      <div id="places-container" class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3 max-w-6xl mx-auto">

  <!-- Skeleton Loaders -->
  <div class="place-skeleton-card"></div>
  <div class="place-skeleton-card"></div>
  <div class="place-skeleton-card"></div>
  <div class="place-skeleton-card"></div>
  <div class="place-skeleton-card"></div>
  <div class="place-skeleton-card"></div>

</div>

      </div>
    </section>

    <!-- âœ… Guides Modal (ÙƒÙ…Ø§ Ù‡Ùˆ) -->
    <div id="guides-modal" class="hidden fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50">
      <div class="bg-white rounded-2xl shadow-2xl p-6 w-[90%] max-w-4xl relative">
        <button id="closeModalBtn" class="absolute top-3 right-4 text-gray-500 hover:text-black text-3xl">&times;</button>
        <h2 id="modalPlaceTitle" class="text-2xl font-bold text-[#556b2f] mb-6 text-center">Available Guides</h2>
        <div id="guides-list" class="grid grid-cols-1 sm:grid-cols-2 gap-6 max-h-[70vh] overflow-y-auto pr-2"></div>
      </div>
    </div>

    <!-- âœ… (Ø¬Ø¯ÙŠØ¯) Overlay ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…ÙƒØ§Ù† â€“ Ù…Ø·Ø§Ø¨Ù‚ Ù„Ù„ØªØµÙ…ÙŠÙ… -->
    <div id="place-overlay" class="hidden">
      <div class="place-overlay-backdrop" id="placeOverlayBackdrop"></div>

      <div class="place-card" id="placeCard" role="dialog" aria-modal="true" aria-labelledby="placeTitle">
        <!-- Ø®Ø· Ø¹Ù„ÙˆÙŠ Ø´ÙØ§Ù Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØ±Ø© (Hero Ø¯Ø§Ø®Ù„ Ø§Ù„ÙƒØ§Ø±Ø¯) -->
        <div class="place-hero">
          <img id="placeHeroImg" alt="" />
          <div class="place-hero-glass"></div>
          <button class="place-close" id="placeCloseBtn" aria-label="Close overlay">
            <i class="fa-solid fa-xmark"></i>
          </button>

          <div class="place-hero-text">
            <h2 id="placeTitle">â€”</h2>
            <p id="placeCountry">Saudi Arabia</p>
          </div>
        </div>

        <!-- ÙˆØµÙ Ø¹Ø§Ù… Ù…Ø®ØªØµØ± -->
        <div class="place-desc" id="placeDesc">
          â€”
        </div>

        <!-- Ø¨Ø·Ø§Ù‚Ø§Øª Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù‚ØµÙŠØ±Ø© (3) Ù…Ø£Ø®ÙˆØ°Ø© Ù…Ù† ÙˆØ³ÙˆÙ… Ø§Ù„Ù…ÙƒØ§Ù† -->
        <div class="place-info-grid" id="placeInfoGrid">
          <!-- ØªÙØ­Ù‚Ù† Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠÙ‹Ø§ -->
        </div>

        <!-- Ù…Ø¹Ø±Ø¶ ØµÙˆØ± Ù…ØµØºÙ‘Ø±Ø§Øª -->
        <div class="place-gallery" id="placeGallery">
          <!-- ØªÙØ­Ù‚Ù† Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠÙ‹Ø§ -->
        </div>
        <!-- âœ… Explore More Section -->
        <div class="place-more" id="placeMore">
          <h3>Explore More Destinations</h3>
          <div class="place-more-grid" id="placeMoreGrid"></div>
        </div>

      </div>
    </div>

    <!-- âœ… (Ø¬Ø¯ÙŠØ¯) Lightbox Ù„Ù„ØµÙˆØ± -->
    <div id="lightbox" class="lightbox hidden">
      <div class="lightbox-backdrop" id="lightboxBackdrop"></div>
      <img id="lightboxImg" alt="photo" />
      <button class="lightbox-close" id="lightboxClose" aria-label="Close image"><i class="fa-solid fa-xmark"></i></button>
    </div>

    <!-- âœ¨ CTA Section (ÙƒÙ…Ø§ Ù‡Ùˆ) -->
    <section class="cta">
      <h1>Ready to Begin Your Saudi Adventure?</h1>
      <p>Connect with expert guides and start your unforgettable journey today.</p>
      <a href="../register/register.html" class="btn primary">Join Now</a>
    </section>

    <!-- âš“ Footer -->
    <footer class="footer">
      <p>Â© 2025 Imagine Project</p>
    </footer>

    <!-- ðŸŒ„ Parallax -->
    <script>
      const heroBg = document.querySelector(".hero-bg");
      window.addEventListener("scroll", () => {
        heroBg.style.transform = `translateY(${window.scrollY * 0.3}px)`;
      });
    </script>

    <!-- âœ… Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="../supabase/supabaseClient.js"></script>
    <script src="places.js"></script>
    <script src="../shared/ui.js"></script>
  </body>
</html>
